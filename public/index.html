<html>

<head>
  <title>Express HTML</title>
  <script src="static/js/babylon.js"></script>
  <script src="static/js/babylon.glTF2FileLoader.js"></script>
  <!-- <script src="https://cdn.babylonjs.com/babylon.js"></script> -->
  <script src="static/js/jquery.js"></script>
  <script src="static/js/utils.js"></script>
  <script src="static/js/t.js"></script>
  <script src="static/js/nipplejs.js"></script>
  <link rel="stylesheet" href="static/css/style.css">
  <link rel="stylesheet" href="static/css/w3.css">
  <!-- <script src="static/js/babylon.gui.js"></script> -->
  <!-- <script src="static/js/dat.gui.min.js"></script> -->
  <script src="static/js/babylon.gui.js"></script>

</head>

<body onload="initSystem()" class="parent-body">
  <div id="fps">0</div>
  <canvas id='tc'></canvas>

  <!-- The Modal -->
  <div id="menu-modal" class="modal center">
    <!-- loader -->
    <div class="load-indicator menu-text" id="load-indicator">
      <h1 class="menu-header" id="load-indicator-header">Loading Game</h1>
      <div class="w3-light-grey">
        <div id="loader-bar" class="w3-container w3-green" style="height:24px;width:0%"></div>
      </div>
      <p id="loader-text">0% loaded...</p>
    </div>

    <!-- home -->
    <div class="menu-home" id="menu-home">
      <h1 class="menu-header">Choose Your Team</h1>

      <div class="home-grid-container">
        <div class="home-grid-header">Selected</div>
        <div class="home-grid-header">Option 1</div>
        <div class="home-grid-header">Option 2</div>

        <div class="bot-selection-container">
          <img src="static/img/swordsman_icon.png" class="bot-image" id="bot-selection-1" />
        </div>
        <div class="bot-selection-option-container" id="botoption_1-1" name="swordsman">
          <img src="static/img/swordsman_icon.png" id="botoptionimage_1-1" class="bot-image" />
          <p class="bot-image-tag" id="bot-image-tag_1-1">&#10004;</p>
        </div>
        <div class="bot-selection-option-container" id="botoption_1-2" name="archer">
          <img src="static/img/archer_icon.png" id="botoptionimage_1-2" class="bot-image" />
          <p class="bot-image-tag" style="display: none;" id="bot-image-tag_1-2">&#10004;</p>
        </div>

        <div class="bot-selection-container">
          <img src="static/img/swordsman_icon.png" class="bot-image" id="bot-selection-2" />
        </div>
        <div class="bot-selection-option-container" id="botoption_2-1" name="swordsman">
          <img src="static/img/swordsman_icon.png" id="botoptionimage_2-1" class="bot-image" />
          <p class="bot-image-tag" id="bot-image-tag_2-1">&#10004;</p>
        </div>
        <div class="bot-selection-option-container" id="botoption_2-2" name="archer">
          <img src="static/img/archer_icon.png" id="botoptionimage_2-2" class="bot-image" />
          <p class="bot-image-tag" style="display: none;" id="bot-image-tag_2-2">&#10004;</p>
        </div>

        <div class="bot-selection-container">
          <img src="static/img/swordsman_icon.png" class="bot-image" id="bot-selection-3" />
        </div>
        <div class="bot-selection-option-container" id="botoption_3-1" name="swordsman">
          <img src="static/img/swordsman_icon.png" id="botoptionimage_3-1" class="bot-image" />
          <p class="bot-image-tag" id="bot-image-tag_3-1">&#10004;</p>
        </div>
        <div class="bot-selection-option-container" id="botoption_3-2" name="archer">
          <img src="static/img/archer_icon.png" id="botoptionimage_3-2" class="bot-image" />
          <p class="bot-image-tag" style="display: none;" id="bot-image-tag_3-2">&#10004;</p>
        </div>

        <div class="bot-selection-container">
          <img src="static/img/swordsman_icon.png" class="bot-image" id="bot-selection-4" />
        </div>
        <div class="bot-selection-option-container" id="botoption_4-1" name="swordsman">
          <img src="static/img/swordsman_icon.png" id="botoptionimage_4-1" class="bot-image" />
          <p class="bot-image-tag" id="bot-image-tag_4-1">&#10004;</p>
        </div>
        <div class="bot-selection-option-container" id="botoption_4-2" name="archer">
          <img src="static/img/archer_icon.png" id="botoptionimage_4-2" class="bot-image" />
          <p class="bot-image-tag" style="display: none;" id="bot-image-tag_4-2">&#10004;</p>
        </div>

        <div class="button-home-start" id="button-home-start">start</div>
      </div>
    </div>

    <!-- start countdown for starting the game. -->
    <div class="load-indicator menu-text" id="game-start-countdown">
      <h1 class="menu-header">Searchin opponents ...</h1>
      <div class="load-estimate center">
        <div id="load-estimate" class="center menu-text">Estimated start time 00:00</div>
      </div>
      <div class="load-estimate-time-elapsed center">
        <div id="load-estimate-time-elapsed" class="center menu-text">Time elapsed 00:00</div>
      </div>
    </div>

    <div class="result" id="game-result-container" class="game-result-container">
      <h1 class="menu-header" id="game-result-header">Draw!</h1>
      <strong>Your team performance</strong><br>
      <em id="team-owned-tower-count"></em><br>
      <em id="team-total-kill-count"></em><br>
      <em id="team-total-attack-damage"></em><br>
      <strong>Enemy team performance</strong><br>
      <em id="enemy-owned-tower-count"></em><br>
      <em id="enemy-total-kill-count"></em><br>
      <em id="enemy-total-attack-damage"></em><br>
      <button id="button-result-exit">exit</button>
    </div>
  </div>

  <!-- Modal content -->
  <div class="game-header-menu" id="game-header-menu">
    <table class="game-header-table">
      <tr class="header-clock-row">
        <td class="header-clock-left">TEAM</td>
        <td class="header-clock-cell" id="header-clock-cell">00:00</td>
        <td class="header-clock-right">ENEMY</td>
      </tr>
      <tr class="header-data-row">
        <td class="header-cell-left" id="tower-team">0</td>
        <td class="header-cell-center">TOWERS OWNED</td>
        <td class="header-cell-right" id="tower-enemy">0</td>
      </tr>
      <tr class="header-data-row">
        <td class="header-cell-left" id="kill-team">0</td>
        <td class="header-cell-center">TOTAL KILLS</td>
        <td class="header-cell-right" id="kill-enemy">0</td>
      </tr>
      <tr class="header-data-row">
        <td class="header-cell-left" id="attack-team">0</td>
        <td class="header-cell-center">TOTAL ATTACK</td>
        <td class="header-cell-right" id="attack-enemy">0</td>
      </tr>
    </table>
  </div>
  <!-- Modal content -->


  <!-- <div id="joystick-parent" class="joystick-parent"></div>
  <script type="text/javascript">
    // Create JoyStick object into the DIV 'joyDiv'
    // window.innerWidth;
    // canvas.height = window.innerHeight;
    var joy = new JoyStick('joystick-parent', {width: window.innerWidth, height: window.innerHeight/6});
  </script> -->

  <!-- match footer menu. -->
  <div class="footerrow" id="footerrow">
    <div class="left-joystick" id="left-joystick">
      <!-- <div id="joy1Div" class="joydiv"></div>
      Posizione X:<input id="joy1PosizioneX" type="text" /><br />
      Posizione Y:<input id="joy1PosizioneY" type="text" /><br />
      Direzione:<input id="joy1Direzione" type="text" /><br />
      X :<input id="joy1X" type="text" /></br>
      Y :<input id="joy1Y" type="text" /> -->
    </div>
    <div class="columnCetral">
      <div class="game-footer-menu" id="game-footer-menu">
        <div class="game-footer-bot-selection" id="game-footer-bot-selection_0" onclick="tg.hl.selectSelfBot(0)">
          <img src="static/img/lion_icon.png" id="footer-image_0" class="footer-bot-image" />
        </div>
        <div class="game-footer-bot-selection" id="game-footer-bot-selection_1" onclick="tg.hl.selectSelfBot(1)">
          <img src="static/img/archer_icon.png" id="footer-image_1" class="footer-bot-image" />
        </div>
        <div class="game-footer-bot-selection" id="game-footer-bot-selection_2" onclick="tg.hl.selectSelfBot(2)">
          <img src="static/img/archer_icon.png" id="footer-image_2" class="footer-bot-image" />
        </div>
        <div class="game-footer-bot-selection" id="game-footer-bot-selection_3" onclick="tg.hl.selectSelfBot(3)">
          <img src="static/img/archer_icon.png" id="footer-image_3" class="footer-bot-image" />
        </div>
        <div class="game-footer-bot-selection" id="game-footer-bot-selection_4" onclick="tg.hl.selectSelfBot(4)">
          <img src="static/img/archer_icon.png" id="footer-image_4" class="footer-bot-image" />
        </div>
      </div>
    </div>

    <div class="right-joystick" id="right-joystick">
      <!-- <div id="joy2Div" class="joydiv"></div>
      Posizione X:<input id="joy2PosizioneX" type="text" /></br>
      Posizione Y:<input id="joy2PosizioneY" type="text" /></br>
      Direzione:<input id="joy2Direzione" type="text" /></br>
      X :<input id="joy2X" type="text" /></br>
      Y :<input id="joy2Y" type="text" /> -->
    </div>
  </div>

  <script type="text/javascript">
    

    
    // joystickL.on('dir', function (evt, nipple) {
    //   console.log("left move", nipple.direction);
    // });
    // joystickR.on('dir', function (evt, nipple) {
    //   console.log("right move");
    // });
    // Create JoyStick object into the DIV 'joy1Div'
    // var Joy1 = new JoyStick('joy1Div');

    // var joy1IinputPosX = document.getElementById("joy1PosizioneX");
    // var joy1InputPosY = document.getElementById("joy1PosizioneY");
    // var joy1Direzione = document.getElementById("joy1Direzione");
    // var joy1X = document.getElementById("joy1X");
    // var joy1Y = document.getElementById("joy1Y");

    // setInterval(function () {
    //   joy1IinputPosX.value = Joy1.GetPosX();
    // }, 50);
    // setInterval(function () {
    //   joy1InputPosY.value = Joy1.GetPosY();
    // }, 50);
    // setInterval(function () {
    //   joy1Direzione.value = Joy1.GetDir();
    // }, 50);
    // setInterval(function () {
    //   joy1X.value = Joy1.GetX();
    // }, 50);
    // setInterval(function () {
    //   joy1Y.value = Joy1.GetY();
    // }, 50);

    // // Create JoyStick object into the DIV 'joy2Div'
    // var joy2Param = {
    //   "title": "joystick2",
    //   "autoReturnToCenter": true
    // };
    // var Joy2 = new JoyStick('joy2Div', joy2Param);

    // var joy2IinputPosX = document.getElementById("joy2PosizioneX");
    // var joy2InputPosY = document.getElementById("joy2PosizioneY");
    // var joy2Direzione = document.getElementById("joy2Direzione");
    // var joy2X = document.getElementById("joy2X");
    // var joy2Y = document.getElementById("joy2Y");

    // setInterval(function () {
    //   joy2IinputPosX.value = Joy2.GetPosX();
    // }, 50);
    // setInterval(function () {
    //   joy2InputPosY.value = Joy2.GetPosY();
    // }, 50);
    // setInterval(function () {
    //   joy2Direzione.value = Joy2.GetDir();
    // }, 50);
    // setInterval(function () {
    //   joy2X.value = Joy2.GetX();
    // }, 50);
    // setInterval(function () {
    //   joy2Y.value = Joy2.GetY();
    // }, 50);
  </script>
</body>

</html>